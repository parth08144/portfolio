{% extends "core/base.html" %}
{% load static %}

{% block content %}
<section class="projects-section">

    <h1>My Projects üíª</h1>

    <!-- Admin Add Button -->
    {% if user.is_superuser %}
        <div style="margin-bottom: 40px;">
            <a href="{% url 'add_project' %}" class="btn primary">
                ‚ûï Add Project
            </a>
        </div>
    {% endif %}

    <div class="projects-grid">

        <!-- ===== STATIC PROJECT 1 ===== -->
        <div class="project-card">

            <img src="{% static 'core/insight.png' %}"
                 alt="IncSight Project"
                 class="project-image">

            <h2>IncSight - Business Growth Analysis</h2>
            <p>Data analysis project based on Inc. 5000 companies dataset.</p>

            <div class="project-links">
                <a href="https://github.com/parth08144/IncSight-Business-Growth-Analysis-from-Inc.-5000"
                   target="_blank"
                   class="btn primary">
                   View on GitHub
                </a>
            </div>
        </div>

        <!-- ===== STATIC PROJECT 2 ===== -->
        <div class="project-card">

            <img src="{% static 'core/todo.png' %}"
                 alt="To-Do List App"
                 class="project-image">

            <h2>To-Do List App</h2>
            <p>Django-based To-Do List application.</p>

            <div class="project-links">
                <a href="https://github.com/parth08144/To-do-list"
                   target="_blank"
                   class="btn primary">
                   View on GitHub
                </a>
            </div>
        </div>

        <!-- ===== DYNAMIC PROJECTS FROM DATABASE ===== -->
        {% for project in projects %}
        <div class="project-card">

            <h2>{{ project.title }}</h2>
            <p>{{ project.description }}</p>

            <div class="project-links">
                <a href="{{ project.github_link }}"
                   target="_blank"
                   class="btn primary">
                   View on GitHub
                </a>

                {% if user.is_superuser %}
                    <a href="{% url 'delete_project' project.id %}"
                       class="btn secondary">
                       ‚ùå Delete
                    </a>
                {% endif %}
            </div>

        </div>
        {% endfor %}

    </div>

</section>
{% endblock %}
